:root {
    --bg:#0f172a; --card:#111827; --muted:#94a3b8; --ring:#334155; --accent:#2563eb; --accent-2:#1e40af; --text:#e5e7eb;
  }
  * { box-sizing:border-box; }
  body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; margin:0; background:var(--bg); color:var(--text); }
  
  /* Layout */
  .app-layout { display:flex; min-height:100vh; }
  .sidebar { width:280px; background:var(--card); border-right:1px solid var(--ring); padding:24px; overflow-y:auto; }
  .main-content { flex:1; overflow-y:auto; }
  .container { max-width:980px; margin:40px auto; padding:0 20px; }
  
  /* Sidebar */
  .sidebar-header { margin-bottom:24px; }
  .sidebar-header h2 { margin:0 0 16px 0; font-size:1.5rem; }
  .btn-new-project { width:100%; padding:10px 16px; background:var(--accent); color:white; border:none; border-radius:8px; font-weight:600; cursor:pointer; transition:background .2s; }
  .btn-new-project:hover { background:#1d4ed8; }
  
  /* New Project Form */
  .new-project-form { margin-bottom:20px; padding:16px; background:#0b1220; border-radius:12px; border:1px solid var(--ring); }
  .project-input { width:100%; padding:10px 12px; border-radius:8px; border:1px solid var(--ring); background:var(--bg); color:var(--text); outline:none; margin-bottom:12px; }
  .project-input:focus { border-color:var(--accent); }
  .form-actions { display:flex; gap:8px; }
  .btn-create { flex:1; padding:8px 12px; background:var(--accent); color:white; border:none; border-radius:6px; cursor:pointer; font-weight:600; }
  .btn-create:hover { background:#1d4ed8; }
  .btn-cancel { flex:1; padding:8px 12px; background:transparent; color:var(--text); border:1px solid var(--ring); border-radius:6px; cursor:pointer; }
  .btn-cancel:hover { background:var(--ring); }
  
  /* Projects List */
  .projects-list { display:flex; flex-direction:column; gap:8px; }
  .project-item { display:flex; align-items:center; justify-content:space-between; padding:12px 16px; border-radius:8px; cursor:pointer; transition:all .2s; border:1px solid transparent; }
  .project-item:hover { background:#0b1220; border-color:var(--ring); }
  .project-item.active { background:var(--accent-2); border-color:var(--accent); }
  .project-name { font-weight:500; flex:1; }
  .project-item-actions { display:flex; align-items:center; gap:8px; }
  .project-badge { background:var(--ring); color:var(--text); padding:4px 8px; border-radius:12px; font-size:0.75rem; font-weight:600; min-width:24px; text-align:center; }
  .project-item.active .project-badge { background:var(--accent); color:white; }
  .empty-state { padding:24px; text-align:center; color:var(--muted); font-size:0.9rem; }
  
  /* Dropdown Menu */
  .dropdown-menu-container { position:relative; }
  .dropdown-trigger { background:transparent; border:none; color:var(--muted); cursor:pointer; padding:4px 8px; border-radius:4px; display:flex; align-items:center; justify-content:center; transition:all .2s; }
  .dropdown-trigger:hover { background:var(--ring); color:var(--text); }
  .three-dots { font-size:1.2rem; line-height:1; font-weight:bold; }
  .dropdown-menu { position:absolute; top:100%; right:0; margin-top:4px; background:var(--card); border:1px solid var(--ring); border-radius:8px; padding:4px; min-width:160px; box-shadow:0 4px 12px rgba(0,0,0,0.3); z-index:100; display:none; }
  .dropdown-menu-container.active .dropdown-menu { display:block; }
  .dropdown-item { width:100%; padding:10px 12px; background:transparent; border:none; color:var(--text); text-align:left; cursor:pointer; border-radius:4px; font-size:0.9rem; transition:background .2s; }
  .dropdown-item:hover { background:var(--ring); }
  .dropdown-item.delete-project { color:#ef4444; }
  .dropdown-item.delete-participant { color:#ef4444; }
  .dropdown-item.delete-project:hover { background:rgba(239,68,68,0.1); }
  .dropdown-item.delete-participant:hover { background:rgba(239,68,68,0.1); }
  
  /* Project Display */
  .project-display { padding:12px; background:#0b1220; border-radius:8px; border:1px solid var(--ring); }
  .project-display strong { color:var(--accent); }
  
  /* Empty State */
  .empty-state-container { display:flex; align-items:center; justify-content:center; min-height:60vh; }
  .empty-state-content { text-align:center; max-width:500px; }
  .empty-state-content h1 { margin-bottom:16px; }
  .btn-primary-large { background:var(--accent); color:white; border:none; border-radius:12px; font-weight:700; padding:16px 32px; cursor:pointer; font-size:1.1rem; margin-top:24px; transition:background .2s; }
  .btn-primary-large:hover { background:#1d4ed8; }
  
  /* Modal */
  .modal { position:fixed; top:0; left:0; right:0; bottom:0; z-index:1000; display:flex; align-items:center; justify-content:center; }
  .modal-overlay { position:absolute; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.7); backdrop-filter:blur(4px); }
  .modal-content { position:relative; background:var(--card); border:1px solid var(--ring); border-radius:16px; padding:32px; max-width:480px; width:90%; box-shadow:0 20px 25px -5px rgba(0,0,0,0.3); }
  .modal-content h2 { margin:0 0 12px 0; font-size:1.75rem; font-weight:700; }
  .modal-message { color:var(--muted); margin:0 0 32px 0; font-size:0.95rem; line-height:1.6; }
  #participant-form-modal .modal-content h2 { margin-bottom:8px; }
  #participant-form-modal .modal-message { margin-bottom:32px; }
  .modal-input { width:100%; padding:12px 16px; border-radius:8px; border:1px solid var(--ring); background:#0b1220; color:var(--text); outline:none; font-size:1rem; margin-bottom:24px; }
  .modal-input:focus { border-color:var(--accent); }
  .modal-actions { display:flex; gap:12px; margin-top:24px; }
  .btn-modal-create { flex:1; padding:12px 20px; background:var(--accent); color:white; border:none; border-radius:8px; font-weight:600; cursor:pointer; font-size:1rem; }
  .btn-modal-create:hover { background:#1d4ed8; }
  .btn-modal-cancel { flex:1; padding:12px 20px; background:transparent; color:var(--text); border:1px solid var(--ring); border-radius:8px; cursor:pointer; font-weight:600; font-size:1rem; }
  .btn-modal-cancel:hover { background:var(--ring); }
  .modal-content-large { max-width:900px; min-height:650px; max-height:90vh; padding:0; display:flex; flex-direction:column; overflow:hidden; }
  .modal-content-condensed {
    max-width:820px;
    width:min(820px, calc(100% - 48px));
    min-height:0;
    max-height:88vh;
    padding:0;
    display:flex;
    flex-direction:column;
    overflow:hidden;
  }
  .modal-content-large-inner { flex:1; overflow-y:auto; padding:40px; padding-right:44px; }
  .modal-content-large .modal-actions { margin-top:0; padding:28px 40px; flex-shrink:0; background:var(--card); border-top:1px solid var(--ring); z-index:10; }
  .modal-content-condensed .modal-actions { padding:20px 32px; }
  .modal-content .card { margin-bottom:28px; }
  .modal-content-large .card { margin-bottom:28px; }
  .modal-content { overflow:visible; }
  #participant-form-modal .modal-content-large-inner { padding:32px; }
  #participant-form-modal .field { margin-bottom:0; }
  /* Allow create-project modal to stay static so date picker can fully extend */
  #project-modal .modal-content-large { overflow:visible; }
  #project-modal .modal-content-large-inner { overflow:visible; }
  #participant-form { gap:24px; }
  #participant-form .grid { gap:16px; }
  #participant-form .card { padding:20px 22px; border-radius:14px; margin-bottom:0; }
  #participant-form .card label { margin-bottom:12px; }
  #participant-form .pill { padding:16px 18px; border-radius:12px; }
  #participant-form .prefs { gap:10px; }
  #participant-form .pref { padding:14px 16px; border-radius:12px; }
  #participant-form input[type="text"],
  #participant-form input[type="tel"],
  #participant-form input[type="date"],
  #participant-form input[type="number"] {
    padding:12px 14px;
    border-radius:10px;
  }
  
  /* Participants List */
  .participants-header { display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:24px; }
  .participants-header h1 { margin:0 0 8px 0; }
  .project-travel-info { display:flex; gap:16px; margin:8px 0; flex-wrap:wrap; }
  .travel-info-item { color:var(--muted); font-size:0.9rem; }
  .btn-add-participant { background:var(--accent); color:white; border:none; border-radius:10px; font-weight:600; padding:12px 20px; cursor:pointer; font-size:1rem; display:flex; align-items:center; gap:8px; }
  .btn-add-participant:hover { background:#1d4ed8; }
  .btn-add-participant span { font-size:1.2rem; font-weight:700; }
  .participants-table-container { background:var(--card); border:1px solid var(--ring); border-radius:12px; overflow:visible; }
  .participants-table { width:100%; border-collapse:collapse; }
  .participants-table thead { background:#0b1220; }
  .participants-table th { padding:14px 16px; text-align:left; font-weight:600; font-size:0.875rem; color:var(--muted); text-transform:uppercase; letter-spacing:0.5px; }
  .participants-table th:last-child { width:50px; text-align:center; }
  .participants-table td { padding:14px 16px; border-top:1px solid var(--ring); font-size:0.9rem; }
  .participants-table td:last-child { text-align:center; padding:8px; }
  .participants-table tbody tr:hover { background:#0b1220; }
  .participants-empty { padding:48px; text-align:center; color:var(--muted); }
  .preferences-list { display:flex; flex-wrap:wrap; gap:6px; }
  .preference-tag { background:var(--ring); color:var(--text); padding:4px 10px; border-radius:12px; font-size:0.75rem; }
  .budget-label { font-weight:600; color:var(--accent); }
  h1 { font-size:2rem; margin-bottom:8px; }
  .muted { color:var(--muted); margin-top:0; }
  form { display:grid; gap:32px; }
  .grid { display:grid; gap:20px; }
  .grid-3 { grid-template-columns: repeat(3, minmax(0,1fr)); }
  .grid-2 { grid-template-columns: repeat(2, minmax(0,1fr)); }
  .card, .pill { background:var(--card); border:1px solid var(--ring); border-radius:16px; }
  .card { padding:24px 26px; }
  .card label { display:block; font-weight:600; margin-bottom:16px; font-size:1rem; color:var(--text); }
  .travel-card {
    padding:26px 30px;
    border-radius:20px;
    background:linear-gradient(160deg, rgba(15,23,42,0.97), rgba(13,18,34,0.92));
    border:1px solid rgba(148,163,184,0.2);
    box-shadow:0 25px 65px -45px rgba(15,23,42,0.9), inset 0 0 0 1px rgba(37,99,235,0.18);
    display:flex; flex-direction:column; gap:26px;
  }
  .travel-field { display:flex; flex-direction:column; gap:8px; }
  .travel-field + .travel-field {
    padding-top:18px;
    border-top:1px solid rgba(148,163,184,0.12);
  }
  .travel-field label { margin-bottom:0; }
  .travel-duration-header { display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:10px; }
  .duration-hint { font-size:0.85rem; text-transform:none; color:var(--muted); }
  .travel-duration-controls { display:flex; flex-wrap:wrap; align-items:center; gap:16px; justify-content:space-between; }
  .field { position:relative; }
  .field label { display:block; font-weight:600; margin-bottom:10px; font-size:0.95rem; color:var(--text); }
  input[type="text"], input[type="tel"], input[type="date"], input[type="number"] {
    width:100%; padding:14px 16px; border-radius:12px; border:1px solid var(--ring);
    background:#0b1220; color:var(--text); outline:none; font-size:1rem;
    transition:border-color .2s, box-shadow .2s;
  }
  input:focus { border-color:var(--accent); box-shadow:0 0 0 3px rgba(37,99,235,0.1); }
  .phone-input-group { display:flex; gap:10px; align-items:stretch; }
  .country-code-select { 
    padding:14px 16px; border-radius:12px; border:1px solid var(--ring);
    background:#0b1220; color:var(--text); outline:none; cursor:pointer;
    font-size:1rem; min-width:140px; flex-shrink:0;
    transition:border-color .2s, box-shadow .2s;
  }
  .country-code-select:focus { border-color:var(--accent); box-shadow:0 0 0 3px rgba(37,99,235,0.1); }
  .phone-input-group input[type="tel"] { flex:1; }
  .phone-warning { color:#ef4444; font-size:0.875rem; margin-top:8px; font-weight:500; }
  .note { color:var(--muted); font-size:0.85rem; margin-top:8px; line-height:1.5; }
  .pill { display:flex; align-items:center; justify-content:space-between; padding:20px 24px; cursor:pointer; transition:all .2s ease-in-out; border:2px solid var(--ring); }
  .pill:hover { border-color:var(--accent); background:rgba(37,99,235,0.05); }
  .pill input { display:none; }
  .pill.active { border-color:var(--accent); background:rgba(37,99,235,0.15); box-shadow:0 0 0 3px rgba(37,99,235,0.2); }
  .pill .title { font-size:1.15rem; font-weight:700; margin-bottom:4px; }
  .pill .sub { color:var(--muted); font-size:0.9rem; }
  .prefs { display:grid; gap:12px; grid-template-columns: repeat(3, minmax(0,1fr)); }
  .pref { padding:18px 20px; border-radius:14px; border:2px solid var(--ring); background:var(--card); cursor:pointer; user-select:none; transition:all .2s ease-in-out; text-align:center; font-weight:500; }
  .pref:hover { border-color:var(--accent); background:rgba(37,99,235,0.05); }
  .pref input { display:none; }
  .pref.active { border-color:var(--accent); box-shadow:0 0 0 3px rgba(37,99,235,0.2); background:rgba(37, 99, 235, 0.15); }
  .row { display:flex; gap:16px; align-items:center; }
  .stepper {
    display:inline-flex; align-items:center; gap:8px;
    padding:4px; border-radius:14px; border:1px solid rgba(148,163,184,0.4);
    background:rgba(11,18,34,0.9); box-shadow:0 10px 25px -20px rgba(15,23,42,0.9);
  }
  .stepper button {
    width:44px; height:44px; border-radius:12px; border:none;
    background:transparent; color:var(--text); font-size:1.4rem; cursor:pointer;
    transition:background .2s, color .2s;
  }
  .stepper button:hover { background:rgba(37,99,235,0.18); color:#fff; }
  .stepper-input {
    width:72px; text-align:center; border:none; background:transparent;
    color:var(--text); font-size:1.1rem; font-weight:600; padding:0;
  }
  .stepper-input:focus { outline:none; }
  .stepper-input::-webkit-outer-spin-button,
  .stepper-input::-webkit-inner-spin-button { -webkit-appearance:none; margin:0; }
  .stepper-input { appearance:textfield; -moz-appearance:textfield; }
  .submit { background:var(--accent); color:white; border:none; border-radius:14px; font-weight:700; padding:16px 24px; cursor:pointer; font-size:1rem; transition:background .2s, transform .1s; }
  .submit:hover { background:#1d4ed8; transform:translateY(-1px); }
  .submit:active { transform:translateY(0); }
  
  /* Location Autocomplete */
  .location-autocomplete-dropdown {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    margin-top: 4px;
    background: var(--card);
    border: 1px solid var(--ring);
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    z-index: 1000;
    max-height: 200px;
    overflow-y: auto;
  }
  .location-autocomplete-item {
    padding: 12px 14px;
    cursor: pointer;
    transition: background 0.2s;
    border-bottom: 1px solid var(--ring);
    font-size: 0.95rem;
  }
  .location-autocomplete-item:last-child {
    border-bottom: none;
  }
  .location-autocomplete-item:hover,
  .location-autocomplete-item.selected {
    background: var(--ring);
  }
  
  /* Date Picker */
  .date-picker-container { position:relative; z-index:1; }
  .date-picker-trigger {
    width:100%; padding:12px 14px; border-radius:12px; border:1px solid var(--ring);
    background:#0b1220; color:var(--text); outline:none; cursor:pointer;
    display:flex; align-items:center; justify-content:space-between; font-size:1rem;
    transition:border-color .2s;
  }
  .date-picker-trigger:hover { border-color:var(--accent); }
  .date-picker-trigger:focus { border-color:var(--accent); }
  .date-picker-container.open .date-picker-trigger { border-color:var(--accent); box-shadow:0 0 0 1px rgba(37,99,235,0.4); }
  .date-picker-icon { font-size:1.2rem; opacity:0.7; }
  .date-picker-dropdown {
    position:absolute; top:0; left:0;
    background:var(--card); border:1px solid var(--ring); border-radius:12px;
    padding:16px; box-shadow:0 12px 36px rgba(0,0,0,0.45); z-index:1100;
    width:min(320px, calc(100vw - 32px));
    pointer-events:auto;
  }
  .date-picker-dropdown.bottom-up { transform-origin:bottom center; }
  .date-picker-header {
    display:flex; gap:12px; margin-bottom:16px; align-items:center;
  }
  .date-picker-select {
    flex:1; padding:10px 12px; border-radius:8px; border:1px solid var(--ring);
    background:#0b1220; color:var(--text); outline:none; cursor:pointer;
    font-size:0.95rem;
  }
  .date-picker-select:focus { border-color:var(--accent); }
  .date-picker-calendar { margin-top:12px; }
  .date-picker-weekdays {
    display:grid; grid-template-columns:repeat(7,1fr); gap:4px; margin-bottom:8px;
    font-size:0.75rem; font-weight:600; color:var(--muted); text-align:center;
  }
  .date-picker-days {
    display:grid; grid-template-columns:repeat(7,1fr); gap:4px;
  }
  .date-picker-day {
    aspect-ratio:1; display:flex; align-items:center; justify-content:center;
    border-radius:8px; cursor:pointer; font-size:0.9rem; transition:all .2s;
    border:1px solid transparent; background:transparent; color:var(--text);
    min-width:36px; min-height:36px;
  }
  .date-picker-day:hover:not(.disabled):not(.selected) {
    background:var(--ring); border-color:var(--ring);
  }
  .date-picker-day.disabled {
    color:var(--muted); opacity:0.3; cursor:not-allowed; pointer-events:none;
  }
  .date-picker-day.selected {
    background:var(--accent); color:white; border-color:var(--accent);
    font-weight:600;
  }
  .date-picker-day.today {
    border-color:var(--accent-2); font-weight:600;
  }
  .date-picker-day.today:not(.selected) {
    background:rgba(37,99,235,0.1);
  }
  
  @media (max-width:800px){ 
    .app-layout { flex-direction:column; }
    .sidebar { width:100%; border-right:none; border-bottom:1px solid var(--ring); }
    .prefs{grid-template-columns:repeat(2,minmax(0,1fr));} 
    .grid-3,.grid-2{grid-template-columns:1fr;} 
    .participants-table-container { overflow-x:auto; }
    .participants-table { min-width:800px; }
    .participants-header { flex-direction:column; gap:16px; }
    .btn-add-participant { width:100%; justify-content:center; }
    .date-picker-dropdown { width:min(280px, calc(100vw - 20px)); }
  }
  
